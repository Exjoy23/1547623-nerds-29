'use strict';function getShow(a,b){document.querySelector(a).classList.add("current"),b&&document.querySelector(b).classList.add("current")}function getHide(a,b){removeCurrent(document.querySelectorAll(a)),b&&removeCurrent(document.querySelectorAll(b))}function removeCurrent(a){a.forEach(a=>a.classList.remove("current"))}function addVisuallyHidden(a,b){a.classList.add("visually__hidden"),b&&b.classList.add("visually__hidden")}function removeVisuallyHidden(a){a.classList.remove("visually__hidden")}function getHidePopup(){getHide(".contacts__popup")}function clearHide(){popup.classList.remove("hide")}function clearShow(){popup.classList.remove("show")}if(document.querySelector("#index")){const a=document.querySelectorAll(".advantages__item"),b=document.querySelector("#button1"),c=document.querySelector("#button2"),d=document.querySelector("#button3");b.addEventListener("click",()=>{getHide(".advantages__slider__button"),getShow(".advantages__slider__button:nth-child(1)"),removeVisuallyHidden(a[0]),addVisuallyHidden(a[1],a[2])}),c.addEventListener("click",()=>{getHide(".advantages__slider__button",".advantages__item"),getShow(".advantages__slider__button:nth-child(2)",".advantages__item:nth-child(2)"),removeVisuallyHidden(a[1]),addVisuallyHidden(a[0],a[2])}),d.addEventListener("click",()=>{getHide(".advantages__slider__button",".advantages__item"),getShow(".advantages__slider__button:nth-child(3)",".advantages__item:nth-child(3)"),removeVisuallyHidden(a[2]),addVisuallyHidden(a[0],a[1])});const e=document.querySelectorAll(".advantages__item"),f=document.querySelectorAll(".advantages__slider__button"),g=document.querySelectorAll(".advantages__link");g.forEach((a,b)=>{a.addEventListener("focus",()=>{e.forEach(a=>{a.classList.add("visually__hidden")}),document.querySelector(`.advantages__item:nth-child(
        ${b+1})`).classList.remove("visually__hidden"),f.forEach(a=>{a.classList.remove("current")}),f[b].classList.add("current")})})}const popup=document.querySelector(".contacts__popup"),buttonOpenPopup=document.querySelector("#open__popup"),buttonClosePopup=popup.querySelector("#close__popup"),inputPopup=popup.querySelectorAll(".popup__input"),submitPopup=popup.querySelector(".contacts__popup__button");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(a){isStorageSupport=!1}if(buttonOpenPopup.addEventListener("click",a=>{a.preventDefault(),getShow(".contacts__popup"),popup.classList.add("show"),storageName&&storageEmail&&(inputPopup[0].value=storageName,inputPopup[1].value=storageEmail),inputPopup[0].value?inputPopup[1].value?inputPopup[2].focus():inputPopup[1].focus():inputPopup[0].focus()}),buttonClosePopup.addEventListener("click",a=>{a.preventDefault(),popup.classList.add("hide"),setTimeout(getHidePopup,500),setTimeout(clearHide,500),setTimeout(clearShow,500)}),document.addEventListener("keydown",a=>{"Escape"===a.key&&(popup.classList.add("hide"),setTimeout(getHidePopup,500),setTimeout(clearHide,500),setTimeout(clearShow,500))}),submitPopup.addEventListener("click",a=>{inputPopup.forEach(b=>{if(!b.value){a.preventDefault();b.classList.add("wrong"),setTimeout(()=>{b.classList.remove("wrong")},500)}else isStorageSupport&&(localStorage.setItem("name",inputPopup[0].value),localStorage.setItem("email",inputPopup[1].value))})}),document.querySelector("#catalog")){const a=document.querySelectorAll(".goods__pagination__link"),b=document.querySelector(".goods__next");a.forEach((b,c)=>{b.addEventListener("click",b=>{b.preventDefault(),a.forEach(a=>{a.classList.remove("current")}),a[c].classList.add("current")})}),b.addEventListener("click",b=>{b.preventDefault();let c;a.forEach((b,d)=>{const e=b.classList.contains("current");e&&(c=d+1),a[d].classList.remove("current")}),c<a.length?a[c].classList.add("current"):a[a.length-1].classList.add("current")});const c=document.querySelectorAll(".goods__popup"),d=document.querySelectorAll(".goods__popup__link"),e=document.querySelectorAll(".goods__popup__button");d.forEach(a=>{a.addEventListener("click",a=>{a.preventDefault()})}),d.forEach((a,b)=>{a.addEventListener("focus",()=>{c[b].classList.add("current")}),a.addEventListener("blur",()=>{c[b].classList.remove("current")})}),e.forEach((a,b)=>{a.addEventListener("focus",()=>{c[b].classList.add("current")}),a.addEventListener("blur",()=>{c[b].classList.remove("current")})});const f=document.querySelector(".range__controls"),g=f.querySelector(".toggle__min"),h=f.querySelector(".toggle__max"),i=f.querySelector(".bar"),j=document.querySelector("#price__min"),k=document.querySelector("#price__max");let l=!1,m=!1,n=0,o=21e3,p=400,q=540,r=o/200;j.addEventListener("blur",()=>{0>=j.value&&(j.value=0),p=j.value/r+400,p>q-20&&(p=q-20,j.value=Math.round((p-400)*r)),g.style.left=p-380+"px",i.style.marginLeft=p-400+"px",i.style.width=q-p+"px"}),k.addEventListener("blur",()=>{k.value>=o&&(k.value=o),q=k.value/r+400,q<p+20&&(q=p+20,k.value=Math.round((q-400)*r)),h.style.left=q-380+"px",i.style.marginLeft=p-400+"px",i.style.width=q-p+"px"}),g.addEventListener("mousedown",()=>{l=!0}),h.addEventListener("mousedown",()=>{m=!0}),window.addEventListener("mouseup",()=>{l&&(l=!1),m&&(m=!1)}),f.addEventListener("mousemove",a=>{l&&(n=a.screenX,p=n,p>q-20&&(p=q-20),g.style.left=p-380+"px",400>=p&&(p=400,g.style.left="7%"),600<=p&&(p=600,g.style.left="85%"),i.style.marginLeft=p-400+"px",i.style.width=q-p+"px",j.value=Math.round((p-400)/200*o))}),f.addEventListener("mousemove",a=>{m&&(n=a.screenX,q=n,q<p+20&&(q=p+20),h.style.left=q-380+"px",400>=q&&(q=400,h.style.left="7%"),600<=q&&(q=600,h.style.left="85%"),i.style.marginLeft=p-400+"px",i.style.width=q-p+"px",k.value=Math.round((q-400)/200*o))});const s=function(){p>q-20&&(p=q-20,j.value=Math.round((p-400)*r)),400>=p&&(p=400,g.style.left="7%"),600<=p&&(p=600,g.style.left="85%"),g.style.left=p-380+"px",i.style.marginLeft=p-400+"px",i.style.width=q-p+"px"},t=function(){q<p+20&&(q=p+20,k.value=Math.round((q-400)*r)),400>=q&&(q=400,h.style.left="7%"),600<=q&&(q=600,h.style.left="85%"),h.style.left=q-380+"px",i.style.marginLeft=p-400+"px",i.style.width=q-p+"px"};let u=!1,v=!1,w=!1,x=!1;g.addEventListener("keyup",()=>{u=!1}),h.addEventListener("keyup",()=>{v=!1}),g.addEventListener("blur",()=>{w=!1}),h.addEventListener("blur",()=>{x=!1}),g.addEventListener("focus",()=>{w=!0,document.addEventListener("keydown",a=>{u=!0,u&&w&&(("ArrowUp"===a.key||"ArrowRight"===a.key)&&(a.preventDefault(),p++,j.value=Math.round((p-400)*r),s()),("ArrowDown"===a.key||"ArrowLeft"===a.key)&&(a.preventDefault(),p--,j.value=Math.round((p-400)*r),s(),0>=j.value&&(j.value=0)))})}),h.addEventListener("focus",()=>{x=!0,document.addEventListener("keydown",a=>{v=!0,v&&x&&(("ArrowUp"===a.key||"ArrowRight"===a.key)&&(a.preventDefault(),q++,k.value=Math.round((q-400)*r),t(),k.value>=o&&(k.value=o)),("ArrowDown"===a.key||"ArrowLeft"===a.key)&&(a.preventDefault(),q--,k.value=Math.round((q-400)*r),t()))})})}